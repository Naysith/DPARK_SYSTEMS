<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <title>Dashboard Staff</title>
    <link rel="stylesheet" href="{{ url_for('static', filename = 'src/css/input.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename = 'src/css/output.css') }}">
</head>
<!-- <body class="p-4 bg-light">
  <div class="container">
    <h2 class="mb-3">Dashboard Staff</h2>
    <p class="bg-teal-300">Selamat datang, <strong>{{ session['nama_pengguna'] }}</strong>!</p>

    <div class="row mb-4">
      <div class="col-md-4">
        <div class="card text-center shadow-sm">
          <div class="card-body">
            <h5 class="card-title text-muted">Total Validasi</h5>
            <h2>{{ total_validasi }}</h2>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card text-center shadow-sm">
          <div class="card-body">
            <h5 class="card-title text-muted">Validasi Hari Ini</h5>
            <h2>{{ validasi_hari_ini }}</h2>
          </div>
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-3">
      <h4>Log Validasi Terbaru</h4>
      <a href="{{ url_for('staff_bp.validasi_tiket') }}" class="btn btn-primary btn-sm">+ Validasi Tiket</a>
    </div>

    <table class="table table-striped table-bordered">
      
    </table>

    <a href="" class="btn btn-danger mt-3">Logout</a>
  </div>
</body> -->

<body class="bg-white poppins-regular">

    <div class="flex h-screen">
        <!-- Sidebar -->
        {% include 'UI-components/sidebar.html' %}
        <!-- End Sidebar -->

        <main class="flex-1 h-screen overflow-y-auto bg-white p-10">

            <!-- Top bar -->
            {% include 'UI-components/topbar.html' %}
            <!-- End Top bar -->

            <div>
                <div class="flex items-center">
                    <h1 class="text-3xl font-bold text-gray-900 mt-6">Selamat Datang, Staff</h1>
                    <div class="flex space-x-6 ms-96">
                        <div>
                            <div class="text-sm text-gray-500">Tanggal</div>
                            <div id="date-display" class="text-sm font-medium text-gray-900"></div>
                        </div>
                        <div>
                            <div class="text-sm text-gray-500">Waktu</div>
                            <div id="time-display" class="text-sm font-medium text-gray-900"></div>
                        </div>
                    </div>
                </div>
                <p class="text-gray-500 mb-8">Jl. Kramat Raya No.98, RT.2/RW.9, Daerah Khusus Ibukota Jakarta 10450</p>

                <div class="bg-white p-6 rounded-lg shadow-md w-72 border border-gray-100">
                    <div class="flex items-center space-x-3 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-[#000264]" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span class="text-gray-600 font-medium">Pengecekan Selesai</span>
                    </div>
                    <div>
                        <p class="text-5xl font-bold text-[#000264]">{{ validasi_hari_ini }}</p>
                        <p class="text-gray-500">Pengunjung</p>
                    </div>
                </div>
            </div>

        </main>

        <button
            class="fixed bottom-6 right-6 w-12 h-12 bg-red-500 text-white rounded-full flex items-center justify-center text-2xl font-bold shadow-lg hover:bg-red-600">
            ?
        </button>
    </div>
</body>
<script>
    (function() {
        const dateEl = document.getElementById('date-display');
        const timeEl = document.getElementById('time-display');
        if (!dateEl || !timeEl) return;
        const pad = n => n.toString().padStart(2, '0');

        function refresh() {
            const now = new Date();
            dateEl.textContent = new Intl.DateTimeFormat('id-ID', {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            }).format(now);
            timeEl.textContent = `${pad(now.getHours())}:${pad(now.getMinutes())}`;
        }
        refresh();
        // sinkron ke awal menit berikutnya, lalu update tiap 60 detik
        const now = new Date();
        const msToNextMinute = (60 - now.getSeconds()) * 1000 - now.getMilliseconds();
        setTimeout(function() {
            refresh();
            setInterval(refresh, 60000);
        }, msToNextMinute);
    })();
</script>

</html>
