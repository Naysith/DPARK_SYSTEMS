<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Form Wahana</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
  <div class="container">
    <h2>{{ 'Edit' if wahana else 'Tambah' }} Wahana</h2>

    <!-- âœ… Must include method + enctype for POST + file upload -->
    <form method="POST" enctype="multipart/form-data">
      <div class="mb-3">
        <label class="form-label">Nama Wahana</label>
        <input type="text" name="nama_wahana" class="form-control"
               value="{{ wahana[1] if wahana else '' }}" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Deskripsi</label>
        <textarea name="deskripsi" class="form-control" rows="3" required>{{ wahana[2] if wahana else '' }}</textarea>
      </div>

      <div class="mb-3">
        <label class="form-label">Status Wahana</label>
        <select name="status_wahana" class="form-select" required>
          <option value="aktif" {% if wahana and wahana[3]=='aktif' %}selected{% endif %}>Aktif</option>
          <option value="maintenance" {% if wahana and wahana[3]=='maintenance' %}selected{% endif %}>Maintenance</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Gambar Wahana</label>
        <input type="file" name="gambar_wahana" class="form-control">
        {% if wahana and wahana[4] %}
          <img src="{{ url_for('static', filename='uploads/' ~ wahana[4]) }}" width="120" class="mt-2">
        {% endif %}
      </div>

      <button type="submit" class="btn btn-success">Simpan</button>
      <a href="{{ url_for('wahana_bp.wahana_list') }}" class="btn btn-secondary">Batal</a>
    </form>
  </div>
</body>
</html>
